{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import '../css/2-form.css';\n\nconst FEEDBACK_STORAGE_KEY = 'feedback-form-state';\n\nconst formRefs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('input[name=\"email\"]'),\n  message: document.querySelector('textarea'),\n};\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nconst storedFormData = localStorage.getItem(FEEDBACK_STORAGE_KEY);\nif (storedFormData) {\n  const formData = JSON.parse(localStorage.getItem(FEEDBACK_STORAGE_KEY));\n  formRefs.input.value = formData.email;\n  formRefs.message.value = formData.message;\n}\n\nconst onFormInput = e => {\n  e.preventDefault();\n  const { email, message } = e.currentTarget.elements;\n\n  // Prevent pollute user localStorage\n  if (storedFormData && email.value === '' && message.value === '') {\n    localStorage.removeItem(FEEDBACK_STORAGE_KEY);\n    return;\n  }\n\n  formData[e.target.name] = e.target.value.trim();\n  localStorage.setItem(FEEDBACK_STORAGE_KEY, JSON.stringify(formData));\n};\n\nconst onFormSubmit = e => {\n  e.preventDefault();\n\n  const form = e.currentTarget;\n  const email = form.elements.email.value;\n  const message = form.elements.message.value;\n\n  if (email === '' || message === '') {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n\n  localStorage.removeItem(FEEDBACK_STORAGE_KEY);\n  formData.email = '';\n  formData.message = '';\n  form.elements.email.value = '';\n  form.elements.message.value = '';\n  e.currentTarget.reset();\n};\n\nformRefs.form.addEventListener('input', onFormInput);\nformRefs.form.addEventListener('submit', onFormSubmit);\n"],"names":["FEEDBACK_STORAGE_KEY","formRefs","formData","storedFormData","onFormInput","email","message","onFormSubmit","form"],"mappings":"wFAEA,MAAMA,EAAuB,sBAEvBC,EAAW,CACf,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,qBAAqB,EACnD,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEMC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAiB,aAAa,QAAQH,CAAoB,EAChE,GAAIG,EAAgB,CAClB,MAAMD,EAAW,KAAK,MAAM,aAAa,QAAQF,CAAoB,CAAC,EACtEC,EAAS,MAAM,MAAQC,EAAS,MAChCD,EAAS,QAAQ,MAAQC,EAAS,OACpC,CAEA,MAAME,EAAc,GAAK,CACvB,EAAE,eAAc,EAChB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAK,EAAE,cAAc,SAG3C,GAAIH,GAAkBE,EAAM,QAAU,IAAMC,EAAQ,QAAU,GAAI,CAChE,aAAa,WAAWN,CAAoB,EAC5C,MACD,CAEDE,EAAS,EAAE,OAAO,IAAI,EAAI,EAAE,OAAO,MAAM,OACzC,aAAa,QAAQF,EAAsB,KAAK,UAAUE,CAAQ,CAAC,CACrE,EAEMK,EAAe,GAAK,CACxB,EAAE,eAAc,EAEhB,MAAMC,EAAO,EAAE,cACTH,EAAQG,EAAK,SAAS,MAAM,MAC5BF,EAAUE,EAAK,SAAS,QAAQ,MAEtC,GAAIH,IAAU,IAAMC,IAAY,GAAI,CAClC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIJ,CAAQ,EAEpB,aAAa,WAAWF,CAAoB,EAC5CE,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBM,EAAK,SAAS,MAAM,MAAQ,GAC5BA,EAAK,SAAS,QAAQ,MAAQ,GAC9B,EAAE,cAAc,OAClB,EAEAP,EAAS,KAAK,iBAAiB,QAASG,CAAW,EACnDH,EAAS,KAAK,iBAAiB,SAAUM,CAAY"}